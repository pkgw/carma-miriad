<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>WCSLIB 4.18: wcserr.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">WCSLIB 4.18
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_af99bb3c152a306abd27951285ad1127.html">C</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">wcserr.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="wcserr_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwcserr.html">wcserr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error message handling.  <a href="structwcserr.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad53f2d5e6a70e53cb3decc6c7b42ad96"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#ad53f2d5e6a70e53cb3decc6c7b42ad96">WCSERR_MSG_LENGTH</a>&#160;&#160;&#160;160</td></tr>
<tr class="separator:ad53f2d5e6a70e53cb3decc6c7b42ad96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b46d9cbaea3241d91e40d03a2725fd7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#a7b46d9cbaea3241d91e40d03a2725fd7">ERRLEN</a>&#160;&#160;&#160;(sizeof(struct <a class="el" href="structwcserr.html">wcserr</a>)/sizeof(int))</td></tr>
<tr class="separator:a7b46d9cbaea3241d91e40d03a2725fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa8a447539633296d50e67c7ab466c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#acfa8a447539633296d50e67c7ab466c2">WCSERR_SET</a>(status)&#160;&#160;&#160;err, status, function, __FILE__, __LINE__</td></tr>
<tr class="memdesc:acfa8a447539633296d50e67c7ab466c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill in the contents of an error object.  <a href="#acfa8a447539633296d50e67c7ab466c2">More...</a><br/></td></tr>
<tr class="separator:acfa8a447539633296d50e67c7ab466c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1691b8bd184d40ca6fda255be078fa53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#a1691b8bd184d40ca6fda255be078fa53">wcserr_enable</a> (int enable)</td></tr>
<tr class="memdesc:a1691b8bd184d40ca6fda255be078fa53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable error messaging.  <a href="#a1691b8bd184d40ca6fda255be078fa53">More...</a><br/></td></tr>
<tr class="separator:a1691b8bd184d40ca6fda255be078fa53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6585b9fc3a59b369e3336f3133dd1ca9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#a6585b9fc3a59b369e3336f3133dd1ca9">wcserr_prt</a> (const struct <a class="el" href="structwcserr.html">wcserr</a> *err, const char *prefix)</td></tr>
<tr class="memdesc:a6585b9fc3a59b369e3336f3133dd1ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct.  <a href="#a6585b9fc3a59b369e3336f3133dd1ca9">More...</a><br/></td></tr>
<tr class="separator:a6585b9fc3a59b369e3336f3133dd1ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3843f24df9351294fa4847eaff672bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#aa3843f24df9351294fa4847eaff672bc">wcserr_clear</a> (struct <a class="el" href="structwcserr.html">wcserr</a> **err)</td></tr>
<tr class="memdesc:aa3843f24df9351294fa4847eaff672bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct.  <a href="#aa3843f24df9351294fa4847eaff672bc">More...</a><br/></td></tr>
<tr class="separator:aa3843f24df9351294fa4847eaff672bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0945d3588b604205b9c1b3d661a794f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#ab0945d3588b604205b9c1b3d661a794f">wcserr_set</a> (struct <a class="el" href="structwcserr.html">wcserr</a> **err, int status, const char *function, const char *file, int line_no, const char *format,...)</td></tr>
<tr class="memdesc:ab0945d3588b604205b9c1b3d661a794f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill in the contents of an error object.  <a href="#ab0945d3588b604205b9c1b3d661a794f">More...</a><br/></td></tr>
<tr class="separator:ab0945d3588b604205b9c1b3d661a794f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad970e4ae584d3052b7bec2f1afb4689d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#ad970e4ae584d3052b7bec2f1afb4689d">wcserr_copy</a> (const struct <a class="el" href="structwcserr.html">wcserr</a> *src, struct <a class="el" href="structwcserr.html">wcserr</a> *dst)</td></tr>
<tr class="memdesc:ad970e4ae584d3052b7bec2f1afb4689d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy an error object.  <a href="#ad970e4ae584d3052b7bec2f1afb4689d">More...</a><br/></td></tr>
<tr class="separator:ad970e4ae584d3052b7bec2f1afb4689d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Most of the structs in WCSLIB contain a pointer to a <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct as a member. Functions in WCSLIB that return an error status code can also allocate and set a detailed error message in this struct which also identifies the function, source file, and line number where the error occurred.</p>
<p><b>For example:</b> <br/>
 </p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structprjprm.html" title="Projection parameters. ">prjprm</a> prj;</div>
<div class="line"><a class="code" href="wcserr_8h.html#a1691b8bd184d40ca6fda255be078fa53" title="Enable/disable error messaging. ">wcserr_enable</a>(1);</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="prj_8h.html#ad994cb23871c51b20754973bef180f8a" title="Default constructor for the prjprm struct. ">prjini</a>(&amp;prj)) {</div>
<div class="line">  <span class="comment">// Print the error message to stderr.</span></div>
<div class="line">  <a class="code" href="wcsprintf_8h.html#a5c6f91916a0b8f8c2d85274c0ba130f6" title="Set output disposition for wcsprintf() and wcsfprintf(). ">wcsprintf_set</a>(stderr);</div>
<div class="line">  <a class="code" href="wcserr_8h.html#a6585b9fc3a59b369e3336f3133dd1ca9" title="Print a wcserr struct. ">wcserr_prt</a>(prj.err, 0<a class="code" href="structprjprm.html#aae2c61d85c72e87f4b2b77a14c8eb316">x0</a>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>A number of utility functions used in managing the <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct are for <b>internal use only</b>. They are documented here solely as an aid to understanding the code. They are not intended for external use - the API may change without notice! </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad53f2d5e6a70e53cb3decc6c7b42ad96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WCSERR_MSG_LENGTH&#160;&#160;&#160;160</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7b46d9cbaea3241d91e40d03a2725fd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERRLEN&#160;&#160;&#160;(sizeof(struct <a class="el" href="structwcserr.html">wcserr</a>)/sizeof(int))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acfa8a447539633296d50e67c7ab466c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WCSERR_SET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">status)</td><td></td>
          <td>&#160;&#160;&#160;err, status, function, __FILE__, __LINE__</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>INTERNAL USE ONLY.</b></p>
<p><b>WCSERR_SET</b>() is a preprocessor macro that helps to fill in the argument list of <a class="el" href="wcserr_8h.html#ab0945d3588b604205b9c1b3d661a794f" title="Fill in the contents of an error object. ">wcserr_set()</a>. It takes status as an argument of its own and provides the name of the source file and the line number at the point where invoked. It assumes that the err and function arguments of <a class="el" href="wcserr_8h.html#ab0945d3588b604205b9c1b3d661a794f" title="Fill in the contents of an error object. ">wcserr_set()</a> will be provided by variables of the same names. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1691b8bd184d40ca6fda255be078fa53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_enable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enable</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>wcserr_enable</b>() enables or disables <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> error messaging. By default it is disabled.</p>
<p><b>PLEASE NOTE:</b> This function is not thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>If true (non-zero), enable error messaging, else disable it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status return value:<ul>
<li>0: Error messaging is disabled.</li>
<li>1: Error messaging is enabled. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a6585b9fc3a59b369e3336f3133dd1ca9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_prt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structwcserr.html">wcserr</a> *&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>wcserr_prt</b>() prints the error message (if any) contained in a <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct. It uses the <a class="el" href="wcsprintf_8h.html#a46950abaf5a27347da8160741f98f973" title="Print function used by WCSLIB diagnostic routines. ">wcsprintf()</a> functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>The error object. If NULL, nothing is printed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prefix</td><td>If non-NULL, each output line will be prefixed with this string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status return value:<ul>
<li>0: Success.</li>
<li>2: Error messaging is not enabled. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="aa3843f24df9351294fa4847eaff672bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwcserr.html">wcserr</a> **&#160;</td>
          <td class="paramname"><em>err</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>wcserr_clear</b>() clears the error (if any) contained in a <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">err</td><td>The error object. If NULL, nothing is done. Set to NULL on return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status return value:<ul>
<li>0: Success. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ab0945d3588b604205b9c1b3d661a794f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwcserr.html">wcserr</a> **&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>INTERNAL USE ONLY.</b></p>
<p><b>wcserr_set</b>() fills a <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct with information about an error.</p>
<p>A convenience macro, <a class="el" href="wcserr_8h.html#acfa8a447539633296d50e67c7ab466c2" title="Fill in the contents of an error object. ">WCSERR_SET</a>, provides the source file and line number information automatically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">err</td><td>Error object. <br/>
 If err is NULL, returns the status code given without setting an error message. <br/>
 If *err is NULL, allocates memory for a <a class="el" href="structwcserr.html" title="Error message handling. ">wcserr</a> struct (provided that status is non-zero).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>Numeric status code to set. If 0, then *err will be deleted and *err will be returned as NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">function</td><td>Name of the function generating the error. This must point to a constant string, i.e. in the initialized read-only data section ("data") of the executable. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>Name of the source file generating the error. This must point to a constant string, i.e. in the initialized read-only data section ("data") of the executable such as given by the __FILE__ preprocessor macro. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">line_no</td><td>Line number in the source file generating the error such as given by the __LINE__ preprocessor macro. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>Format string of the error message. May contain printf-style %-formatting codes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>The remaining variable arguments are applied (like printf) to the format string to generate the error message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status return code passed in. </dd></dl>

</div>
</div>
<a class="anchor" id="ad970e4ae584d3052b7bec2f1afb4689d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_copy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structwcserr.html">wcserr</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwcserr.html">wcserr</a> *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>INTERNAL USE ONLY.</b></p>
<p><b>wcserr_copy</b>() copies one error object to another. Use of this function should be avoided in general since the function, source file, and line number information copied to the destination may lose its context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>Source error object. If src is NULL, dst is cleared.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>Destination error object. If NULL, no copy is made.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Numeric status code of the source error object. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jul 13 2013 20:00:26 for WCSLIB 4.18 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
